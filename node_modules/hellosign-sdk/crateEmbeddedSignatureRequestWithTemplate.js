var hellosign = require('./lib/hellosign.js')({key: 'a232c643bd5b002d51dfbe0284ea4bb547046604a74ed9c11326af87e004cc9b'});

var options = {
    test_mode : 1,
    clientId : '449be5c26a934956ef9f128c1a58cf25',
    template_id: '6593a986f0d2703a9634af844d5787dedda0582d',
    subject : 'Purchase Order',
    message : 'Glad we could come to an agreement.',
    signers : [
        {
            email_address : 'george@example.com',
            name : 'George',
            role : 'EE'
        }
    ],
    custom_fields :  
       [{"name":"primay|nameFirst", "value":"JohnGalt", "editor":"EE", "required":true}]
       
   
};

hellosign.signatureRequest.createEmbeddedWithTemplate(options)
    .then(function(response){
        console.log(response); 
    // var sample = new Array(response.custom_fields);
        var signatureId = response.signature_request.signatures[1].signature_id;
        return hellosign.embedded.getSignUrl(signatureId);
    })
    .then(function(response){
        console.log('URL = ' + response.embedded.sign_url);
    }) 
    .catch(function(err){
        //catch error
        console.log(err);
    });